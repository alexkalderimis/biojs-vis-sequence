!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.oo=e()}}(function(){var e;return function t(e,n,o){function i(r,a){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){var n=e[r][1][t];return i(n?n:t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t){function n(e,t,n){var o=jQuery("<div>").append("<strong>"+t+"</strong>").append(" ").append(e).addClass("alert alert-warning message");return n&&("string"==typeof n?o.prepend('<i class="'+n+'"></i> '):o.css(n)),o}function o(){var e=this,t=jQuery('<select> <option value="FASTA">FASTA</option><option value="CODATA">CODATA</option><option value="PRIDE">PRIDE</option><option value="RAW">RAW</option></select>');return t.change(function(){e.setFormat(jQuery(this).val())}),this.options.on("change:format",function(){t.val(e.options.get("format"))}),t}function i(){var e=this,t=jQuery('<select><option value="10">10</option><option value="35">35</option><option value="70">70</option><option value="100">100</option></select>');return t.val(String(this.options.get("numCols"))),t.change(function(){e.options.set({numCols:parseInt(jQuery(this).val(),10)})}),this.options.on("change:numCols",function(e){t.val(String(e))}),t}function s(){var e,t=this;return e=jQuery('<input type="checkbox">'),e.prop("checked",!!this.options.get("colouredBases")),e.change(function(){t.options.set({colouredBases:e.prop("checked")})}),t.options.on("change:colouredBases",function(t){e.prop("checked",t)}),e}function r(e,t,n){var o=jQuery("<div>").addClass(e.get("controlClass")),i=jQuery("<label>").addClass(e.get("labelClass")).text(e.get(t));return e.on("change:"+t,function(e){i.text(e)}),n.addClass(e.get("inputClass")),n.is('[type="checkbox"]')?jQuery('<div class="checkbox">').append(i.prepend(n)):(o.append(i),o.append(n),o)}function a(){var e=c[this.options.get("format")];if(!e)throw new Error("Don't know how to render "+fmt);return new e({width:parseInt(this.options.get("numCols"),10),addBaseClass:!!this.options.get("colouredBases"),initToolTip:this._initToolTip,onMouseEnter:this._baseMousedOver,onChangeSelection:this._registerSelectionHandler})}var c=e("./renderers"),h=e("./model"),l=e("biojs-events"),u=e("./style"),p="change:selection",d=p,f="click:annotation",g={format:"FASTA",selection:{start:0,end:0},colouredBases:!1,numCols:35,highlights:[],annotations:[],sequenceUrl:"http://www.ebi.ac.uk/das-srv/uniprot/das/uniprot/sequence",formatSelectorVisible:!0,loadStyle:!0,showAnnotations:!0,labelFormat:"Format",labelNumCols:"Columns",labelColouredBases:"Colour Bases",warningTitle:"Warning",warningIcon:"glyphicon glyphicon-warning-sign",controlsClass:"form-inline",controlClass:"form-group",inputClass:"form-control",labelClass:"form-label"};Sequence=function(e){this._container=jQuery(e.target),0===this._container.length&&(this._container=jQuery("#"+e.target)),this.options=new h(e,g),this._initialize()},Sequence.EVT_ON_SELECTION_CHANGED=p,Sequence.EVT_ON_ANNOTATION_CLICKED=f,l.mixin(Sequence.prototype),Sequence.prototype.eventTypes=[p,d,f],Sequence.prototype.getId=function(){return this.opt.id};var y={position:"absolute","z-index":"999999",color:"#fff","font-size":"12px",width:"auto",display:"none"};Sequence.prototype._initialize=function(){var e=this;this._appendStyle(),["width","height"].forEach(function(t){var n=e.options.get(t);n>0&&e._container[t](n)}),this._container.toggleClass("no-user-selection",!this.options.get("allowSelection")),this._buildFormatSelector(),this._contentDiv=jQuery("<div>").addClass("sequence-content").appendTo(this._container),this._tooltip=jQuery("<div>").css(y).addClass("tooltip").appendTo("body").hide(),this._baseMousedOver=this._recordEntry.bind(this),this._initToolTip=this._addToolTip.bind(this),this._registerSelectionHandler=this.options.on.bind(this.options,"change:selection"),this._bindEvents(),this._run()},Sequence.prototype._run=function(){this.options.has("sequence")?this.options.trigger("change:format"):this.options.has("id")?this._requestSequence(this.getId()):this.clearSequence("No sequence available")},Sequence.prototype._bindEvents=function(){var e=this,t=function(){e._redraw()},n=function(){e.options.set({renderer:a.call(e)})};this.options.on("change:format",n),this.options.on("change:colouredBases",n),this.options.on("change:numCols",n),this.options.on("change:sequence",function(){e.options.set({highlights:[],annotations:[]},{silent:!0}),e.setSelection(0,0)}),this.options.on("change:highlights",t),this.options.on("change:annotations",t),this.options.on("change:showAnnotations",t),this.options.on("change:id",t),this.options.on("change:renderer",t),this.options.on("change:sequence",t),this.options.on("change:selection",function(t){e.trigger(p,t)}),this.options.on("change:allowSelection",function(t){e._container.toggleClass("no-user-selection",!t)}),this._contentDiv.on("mousedown",function(){e.startSelecting()}),this._contentDiv.on("mouseup",function(){e.stopSelecting()}),this._contentDiv.on("mouseleave",function(){e.stopSelecting()})};var m="../biojs/css/images/warning_icon.png";Sequence.prototype._requestSequence=function(e){var t=this;jQuery.ajax({url:this.options.get("sequenceUrl"),dataType:"xml",data:{segment:e},success:function(){try{var e=jQuery(xml).find("SEQUENCE:first");t.setSequence(e.text(),e.attr("id"),e.attr("label"))}catch(n){console.log("Error decoding response data: "+n.message),t.clearSequence("No sequence available",m)}},error:function(e,n){console.log("Error decoding response data: "+n),t.clearSequence("Error requesting the sequence to the server "+this.url,m)}})},Sequence.prototype.setSequence=function(e,t){1===arguments.length?this._requestSequence(arguments[0]):this.options.set({sequence:e,id:t})},Sequence.prototype.clearSequence=function(e){if(this.setSequence(null,null),!e)return this._contentDiv.empty();var t=n(e,this.options.get("warningTitle"),this.options.get("warningIcon"));return this._contentDiv.html(t)},Sequence.prototype.setSelection=function(e,t){if(e>t){var n=t;t=e,e=n}this.options.set({selection:{start:e,end:t}})},Sequence.prototype.clearSelection=function(){this.options.set({selection:{start:null,end:null}})};var v=[".annotation-default {background: #ccc;}",".seq-base.adenine {background: #656cca; color: white;}",".seq-base.cytosine {background: #ffd76b; color: #8A6F25;}",".seq-base.guanine {background: #50c0ad; color: white;}",".seq-base.thymine {background: #ffa76b; color: #A76C45;}",".seq-base.info, .interbase.info {background: #4090f7; color: white;}",'.sequence-content {font-family: "Andale mono", courier, monospace; font-size: 12px; text-align: left;}','.sequence-controls {font-family: "Helvetica Neue", Arial, "sans serif"; font-size: 14px}',".no-user-selection {-moz-user-select: none; -webkit-user-select: none; user-select: none;}",".seq-base.selection, .interbase.selection {background: yellow; color: black;}"];Sequence.prototype._appendStyle=function(){var e;this.options.get("loadStyle")&&(e=v.join("\n"),u(e,document))},Sequence.prototype.setFormat=function(e){if(!e)throw new Error("argument is required: format");this.options.set({format:String(e).toUpperCase()})},Sequence.prototype._buildFormatSelector=function(){var e,t=this,n=this.options;this._headerDiv=e=jQuery("<form>").addClass("sequence-controls").addClass(this.options.get("controlsClass")).appendTo(this._container),e.append(r(n,"labelFormat",this._formatSelector=o.call(this))),e.append(r(n,"labelNumCols",this._columnWidthSelector=i.call(this))),e.append(r(n,"labelColouredBases",s.call(this))),this.options.on("change:formatSelectorVisible",function(){t._headerDiv.toggle(t.options.get("formatSelectorVisible"))}),t._headerDiv.toggle(t.options.get("formatSelectorVisible"))},Sequence.prototype.highlight=function(e,t,n,o){return this.addHighlight({start:e,end:t,kind:n,id:o})},Sequence.prototype._highlightsCount=0,Sequence.prototype.addHighlight=function(e){{var t,n,o;this.options.get("highlights")}return!e||e.start>e.end?null:(n=e.kind||"info",t="string"==typeof e.id?e.id:String(this._highlightsCount++),o={start:e.start,end:e.end,kind:n,id:t},this.options.callMethod("highlights","concat",[o]),o.id)},Sequence.prototype.unHighlight=function(e){this.removeHighlight(e)},Sequence.prototype.removeHighlight=function(e){this.options.callMethod("highlights","filter",function(t){return t.id!==e})},Sequence.prototype.unHighlightAll=function(){this.removeAllHighlights()},Sequence.prototype.removeAllHighlights=function(){this.options.set({highlights:[]})},Sequence.prototype.setNumCols=function(e){this.options.set({numCols:e})},Sequence.prototype.formatSelectorVisible=function(e){return 0===arguments.length?this.options.get("formatSelectorVisible"):void this.options.set({formatSelectorVisible:e})},Sequence.prototype.showFormatSelector=function(){this.formatSelectorVisible(!0)},Sequence.prototype.hideFormatSelector=function(){this.formatSelectorVisible(!1)},Sequence.prototype.hide=function(){this._headerDiv.hide(),this._contentDiv.hide()},Sequence.prototype.show=function(){this._headerDiv.show(),this._contentDiv.show()},Sequence.prototype._isSelecting=!1,Sequence.prototype._lastEntered=-1,Sequence.prototype._selectionStart=-1,Sequence.prototype.startSelecting=function(){this._isSelecting=!0,this._selectionStart=this._lastEntered,this.setSelection(this._lastEntered,this._lastEntered)},Sequence.prototype.stopSelecting=function(){this._isSelecting=!1,this._lastEntered=-1,this._selectionStart=-1},Sequence.prototype._recordEntry=function(e){if(this._lastEntered=e,this._isSelecting){{this.options.get("selection")}this.setSelection(this._selectionStart,e)}},Sequence.prototype._redraw=function(){var e=this.options.get("renderer");e&&this._contentDiv.html(e.render(this.options.get("sequence"),this.options.get("id"),this.getHighlights(),this._getAnnotations()))},Sequence.prototype._getAnnotations=function(){return this.options.get("showAnnotations")?this.options.get("annotations").slice():[]},Sequence.prototype.showAnnotations=function(){return this.options.set({showAnnotations:!0}),this},Sequence.prototype.hideAnnotations=function(){return this.options.set({showAnnotations:!1}),this},Sequence.prototype.toggleAnnotations=function(){return this.options.update("showAnnotations",function(e){return!e}),this},Sequence.prototype.getHighlights=function(){var e=this.options.get("highlights").slice(),t=this.options.get("selection");return t&&e.push({start:t.start,end:t.end,kind:"selection",id:"__selection__"}),e},Sequence.prototype.addAnnotation=function(e){this.addAnnotations([e])},Sequence.prototype.setAnnotation=Sequence.prototype.addAnnotation,Sequence.prototype.addAnnotations=function(e){this.options.callMethod("annotations","concat",e)},Sequence.prototype.removeAnnotation=function(e){this.options.callMethod("annotations","filter",function(t){return t.name!==e})},Sequence.prototype.removeAllAnnotations=function(){this.options.set({annotations:[]})},Sequence.prototype._addToolTip=function(e,t){function n(){s.hide()}function o(e){var n=jQuery(e.target),o=n.offset();if(!s.is(":visible")){var r={"background-color":"#000",padding:"3px 10px 3px 10px",top:o.top+n.height()+"px",left:o.left+n.width()+"px"},a=t.call(e.target);s.css(r).animate({opacity:"0.85"},10),a.html&&i.options.get("allowHTML")?s.html(a.html):s.text(a.text),s.show()}}var i=this,s=this._tooltip,r=jQuery(e);return r.mouseover(o).mouseout(n)},t.exports=Sequence},{"./model":2,"./renderers":4,"./style":5,"biojs-events":6}],2:[function(e,t){function n(e,t){if(this.attributes={},this.defaults=t||{},e)for(var n in e)this.attributes[n]=e[n]}var o=e("biojs-events");o.mixin(n.prototype),n.prototype.has=function(e){return this.attributes.hasOwnProperty(e)},n.prototype.get=function(e){return this.attributes.hasOwnProperty(e)?this.attributes[e]:this.defaults[e]},n.prototype.set=function(e,t){var n,o,i,s,r=this,a=[];if(arguments.length>=2&&"string"==typeof arguments[0])return s={},s[arguments[0]]=arguments[1],this.set(s,arguments[2]);for(i in e)n=this.attributes[i],o=e[i],n!==o&&(a.push(["change:"+i,o,n]),this.attributes[i]=o);if(!t||!t.silent)return a.forEach(function(e){r.trigger.apply(r,e)}),r.trigger("change"),this},n.prototype.update=function(e,t,n){var o=t(this.get(e));return this.set(e,o,n)},n.prototype.callMethod=function(e,t){var n=[].slice.call(arguments,2),o=function(e){return e[t].apply(e,n)};return this.update(e,o)},t.exports=n},{"biojs-events":6}],3:[function(e,t){"use strict";function n(e,t){var n=e.start>t.end,o=e.end<t.start,i=[e.start,e.end].reduce(function(e,n){return e||t.start<=n&&n<=t.end},!1);return i||!n&&!o}var o={A:"adenine",C:"cytosine",G:"guanine",T:"thymine"},i=function(e){return o[e.toUpperCase()]},s=function(){throw new Error("Not implemented")},r=function(){},a=t.exports=function(){};a.optionalProperties=["document","addBaseClass"],a.callbacks=["initToolTip","onChangeSelection","onMouseEnter"],a.requiredProperties=["width"];var c=function(e,t){var n="";return e.forEach(function(e){t>=e.start&&t<=e.end&&(n=e.kind)}),n};a.prototype={renderHeader:s,renderRow:s,renderFooter:s,renderAnnotationRow:s,render:function(e,t,n,o){var i,s,r,a,h,l,u,p;if(!e||e.length<1)return this.renderNoContent();for(h=this.getBases(e),r=this.getCanvas(),this.renderHeader(r,h,t),s=c.bind(null,n),a=1,p=0;p<h.length;p+=this.width,a++)l=h.slice(p,p+this.width),u={idx:a,bases:l,start:p+1,end:p+this.width,highlighter:s},this.renderRow(r,u),(i=this.getAnnotationsForRow(o,u))&&this.renderAnnotationRow(r,i,u);return this.renderFooter(r),r},getAnnotationsForRow:function(e,t){var o=(e||[]).filter(function(e){var o,i=e.regions.length;for(o=0;i>o;o++)if(n(e.regions[o],t))return!0;return!1});return o.length?o:null},init:function(e){this.bases=[],a.optionalProperties.forEach(function(t){e[t]&&(this[t]=e[t])}.bind(this)),a.requiredProperties.forEach(function(t){if(!e[t])throw new Error("Missing required option: "+t);this[t]=e[t]}.bind(this)),a.callbacks.forEach(function(t){this[t]=e[t]?e[t]:r}.bind(this)),this.document||(this.document=document)},getCanvas:function(){var e=this.document.createElement("pre");return e.className="sequence-canvas "+this.format.toLowerCase(),e},getBases:function(e){return e.split("").map(this.transformBase)},transformBase:function(e){return e.toUpperCase()},getBaseClasses:function(e,t,n){var o=["seq-base"],s=i(e);return s&&this.addBaseClass&&o.push(s),o.push(n(t)),o},renderBase:function(e,t){var n=e.bases[t],o=e.start+t,i=this,s=this.document.createElement("span"),r=this.getBaseClasses(n,o,e.highlighter);return s.className=r.join(" "),s.appendChild(this.document.createTextNode(n)),s.addEventListener("mouseover",function(){i.onMouseEnter(o)}),i.onChangeSelection(function(e){o>=e.start&&o<=e.end?s.classList.add("selection"):s.classList.remove("selection")}),s},renderNoContent:function(){var e=this.document.createElement("div");return e.appendChild(this.document.createTextNode("No sequence available")),e}}},{}],4:[function(e,t,n){var o=e("./renderer-base"),i=" ",s=function(){},r=n.FASTA=function(e){this.init(e)};r.prototype=new o,r.prototype.format="FASTA",r.prototype.renderHeader=function(e,t,n){var o=this.document.createTextNode(">"+n+" "+t.length+"bp");e.appendChild(o),e.appendChild(this.document.createElement("br"))},r.prototype.renderFooter=s,r.prototype.renderAnnotationRow=function(e,t,n){var o,s=this;for(o=0;o<n.bases.length;o++){var r=n.start+o,a=this.document.createElement("span"),c=i;t.forEach(function(e){e.regions.forEach(function(t){c===i&&t.start<=r&&t.end>=r&&(c="^",a.className="annotation",a.classList.add(e.className?e.className:"annotation-default"),s.initToolTip(a,function(){return e.description||{text:e.name}}))})}),a.appendChild(this.document.createTextNode(c)),e.appendChild(a)}e.appendChild(this.document.createElement("br"))},r.prototype.renderRow=function(e,t){var n,o;for(n=0;n<t.bases.length;n++)o=this.renderBase(t,n),e.appendChild(o);e.appendChild(this.document.createElement("br"))};var a=n.CODATA=function(e){this.init(e)};a.prototype=new o,a.prototype.format="CODATA",a.prototype.groupWidth=5,a.prototype.leftMarginSize=7,a.prototype.gutter=i+i,a.prototype.renderFooter=function(e){e.appendChild(this.document.createElement("br")),e.appendChild(this.document.createTextNode("///"))},a.prototype.renderAnnotationRow=s,a.prototype.renderHeader=function(e,t,n){var o,s,r,a=[];for(e.appendChild(this.document.createTextNode("ENTRY           ")),e.appendChild(this.document.createTextNode(n)),e.appendChild(this.document.createElement("br")),e.appendChild(this.document.createTextNode("SEQUENCE")),e.appendChild(this.document.createElement("br")),o=0;o<this.leftMarginSize;o++)a.push(i);a.push(this.gutter);var c=Math.min(t.length,this.width);for(o=this.groupWidth;c>=o;o+=this.groupWidth){for(s=String(o),r=2*this.groupWidth-(1+s.length);r>0;r--)a.push(i);a.push(s),a.push(i)}var h=this.document.createElement("span");h.className="sequence-header",h.appendChild(this.document.createTextNode(a.join(""))),e.appendChild(h),e.appendChild(this.document.createElement("br"))},a.prototype.renderInterBase=function(e,t,n){var o=this.document.createElement("span"),s=this.getBaseClasses(t,n,e.highlighter);return s.push("interbase"),o.className=s.join(" "),o.appendChild(this.document.createTextNode(i)),this.onChangeSelection(function(e){n>=e.start&&n<=e.end?o.classList.add("selection"):o.classList.remove("selection")}),o},a.prototype.renderRow=function(e,t){var n,o,s,r=String(t.start),a=[];for(n=this.leftMarginSize-r.length;n>0;n--)a.push(i);for(a.push(r,this.gutter),e.appendChild(this.document.createTextNode(a.join(""))),o=0;o<t.bases.length;o++)if(s=this.renderBase(t,o),e.appendChild(s),o+1<t.bases.length){var c=t.start+o+.5,h=this.renderInterBase(t,t.bases[o],c);e.appendChild(h)}e.appendChild(this.document.createElement("br"))};var c=n.PRIDE=function(e){this.init(e)};c.prototype=new o,c.prototype.format="PRIDE",c.prototype.groupWidth=10,c.prototype.marginSize=5,c.prototype.gutter=i+i,c.prototype.aisle=i,c.prototype.renderHeader=s,c.prototype.renderFooter=s,c.prototype.renderAnnotationRow=s,c.prototype.renderLabel=function(e){var t=String(e),n=[];for(needed=this.marginSize-t.length;needed>0;needed--)n.push("0");return n.push(t),this.document.createTextNode(n.join(""))},c.prototype.renderRow=function(e,t){var n,o;for(e.appendChild(this.renderLabel(t.start)),e.appendChild(this.document.createTextNode(this.gutter)),n=0;n<t.bases.length;n++)n>0&&n%this.groupWidth===0&&e.appendChild(this.document.createTextNode(this.aisle)),o=this.renderBase(t,n),e.appendChild(o);n===this.width&&(e.appendChild(this.document.createTextNode(this.gutter)),e.appendChild(this.renderLabel(t.end))),e.appendChild(this.document.createElement("br"))};var h=n.RAW=function(e){this.init(e)};h.prototype=new o,h.prototype.format="PRIDE",h.prototype.transformBase=function(e){return e},h.prototype.renderHeader=s,h.prototype.renderFooter=s,h.prototype.renderAnnotationRow=s,h.prototype.renderRow=function(e,t){var n,o;for(n=0;n<t.bases.length;n++)o=this.renderBase(t,n),e.appendChild(o);e.appendChild(this.document.createElement("br"))}},{"./renderer-base":3}],5:[function(e,t){t.exports=function(e,t){t.createStyleSheet?(stylesheet=t.createStyleSheet(),stylesheet.cssText=e):(head=t.getElementsByTagName("head")[0],stylesheet=t.createElement("style"),stylesheet.type="text/css",stylesheet.styleSheet?stylesheet.styleSheet.cssText=e:stylesheet.appendChild(t.createTextNode(e)),head.appendChild(stylesheet))}},{}],6:[function(e,t){var n=e("backbone-events-standalone");n.onAll=function(e,t){return this.on("all",e,t),this},n.oldMixin=n.mixin,n.mixin=function(e){n.oldMixin(e);for(var t=["onAll"],o=0;o<t.length;o++){var i=t[o];e[i]=this[i]}return e},t.exports=n},{"backbone-events-standalone":8}],7:[function(t,n,o){!function(){function t(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++l+"";return e?e+t:t},has:function(e,t){return c.call(e,t)},each:function(e,t,n){if(null!=e)if(a&&e.forEach===a)e.forEach(t,n);else if(e.length===+e.length){for(var o=0,i=e.length;i>o;o++)if(t.call(n,e[o],o,e)===r)return}else for(var s in e)if(this.has(e,s)&&t.call(n,e[s],s,e)===r)return},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var i,s=this,r={},a=Array.prototype.forEach,c=Object.prototype.hasOwnProperty,h=Array.prototype.slice,l=0,u=t();i={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var o=this._events[e]||(this._events[e]=[]);return o.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var o=this,i=u.once(function(){o.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var o,i,s,r,a,c,h,l;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(r=e?[e]:u.keys(this._events),a=0,c=r.length;c>a;a++)if(e=r[a],s=this._events[e]){if(this._events[e]=o=[],t||n)for(h=0,l=s.length;l>h;h++)i=s[h],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&o.push(i);o.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=h.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],o=this._events.all;return n&&f(n,t),o&&f(o,arguments),this},stopListening:function(e,t,n){var o=this._listeners;if(!o)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((o={})[e._listenerId]=e);for(var s in o)o[s].off(t,n,this),i&&delete this._listeners[s];return this}};var p=/\s+/,d=function(e,t,n,o){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(o));return!1}if(p.test(n)){for(var s=n.split(p),r=0,a=s.length;a>r;r++)e[t].apply(e,[s[r]].concat(o));return!1}return!0},f=function(e,t){var n,o=-1,i=e.length,s=t[0],r=t[1],a=t[2];switch(t.length){case 0:for(;++o<i;)(n=e[o]).callback.call(n.ctx);return;case 1:for(;++o<i;)(n=e[o]).callback.call(n.ctx,s);return;case 2:for(;++o<i;)(n=e[o]).callback.call(n.ctx,s,r);return;case 3:for(;++o<i;)(n=e[o]).callback.call(n.ctx,s,r,a);return;default:for(;++o<i;)(n=e[o]).callback.apply(n.ctx,t)}},g={listenTo:"on",listenToOnce:"once"};u.each(g,function(e,t){i[t]=function(t,n,o){var i=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=u.uniqueId("l"));return i[s]=t,"object"==typeof n&&(o=this),t[e](n,o,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return u.each(t,function(t){e[t]=this[t]},this),e},"function"==typeof e?e(function(){return i}):"undefined"!=typeof o?("undefined"!=typeof n&&n.exports&&(o=n.exports=i),o.BackboneEvents=i):s.BackboneEvents=i}(this)},{}],8:[function(e,t){t.exports=e("./backbone-events-standalone")},{"./backbone-events-standalone":7}],"biojs-vis-sequence":[function(e,t){t.exports=e("./lib/index")},{"./lib/index":1}]},{},["biojs-vis-sequence"])("biojs-vis-sequence")});